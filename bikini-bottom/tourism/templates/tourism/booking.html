{% extends 'base.html' %}

{% block title %}Booking List{% endblock title %}
{% block head %}{% endblock head %}
{% block body %}
  <div class="container">
    {% if profile.count == 0 %}
    <h1>Please complete your account profile to book our facility</h1>
    <a href="{% url 'profile' %}" class="btn btn-primary">Complete your profile</a>
    
    {% else %}
    <h1>Your Booking List</h1>

    <a href="{% url 'booking_add' %}" class="btn btn-primary">Book a facility</a>

    <table class="table table-striped table-hover mt-2">
      <thead>
        <tr>
          <th scope="col"></th>
          <th scope="col">Facility</th>
          <th scope="col">Start Visit</th>
          <th scope="col">End Visit</th>
          <th scope="col">Payment Method</th>
          <th scope="col">Payment Status</th>
        </tr>
      </thead>
      <tbody>
        {% for item in booking %}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td><a href="">{{item.facility}}</a></td>
          <td>{{item.start_visit}}</td>
          <td>{{item.end_visit}}</td>
          <td>{{item.payment_method}}</td>
          {% if item.payment_status == 'paid' %}
            <td><span class="badge text-bg-success">{{item.payment_status | upper}}</span></td>
          {% else %}
            <td><span class="badge text-bg-danger">{{item.payment_status | upper}}</span></td>
          {% endif %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}

  </div>
{% endblock body %}